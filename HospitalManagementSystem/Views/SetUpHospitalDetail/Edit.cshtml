@model Hospital.Models.SetUpHospitalDetailModel

@{
    ViewBag.Title = "Edit";
    Layout = "~/Views/Shared/_MasterSetupLayout.cshtml";
}

<style>



</style>

<h2 align="center">Hospital Setup</h2>

<div class="contentWrapper">

    @using (Html.BeginForm("Edit", "SetUpHospitalDetail", FormMethod.Post, new { enctype = "multipart/form-data", @class = "bs-docs-example form-inline" }))
    {
        @Html.ValidationSummary(true)

        <fieldset>
            <legend>Edit</legend>

            @Html.HiddenFor(model => model.DetailsId)

            <div class="row-fluid singleline">


                <label>
                    <div class="size">@Html.ValidationMessageFor(model => model.TitleName)</div>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.TitleName)
                    </div>
                    <div class="editor-field">
                        @Html.TextBoxFor(model => model.TitleName, new { @placeholder = "eg:NEHCO,Nepal" })

                    </div>
                </label>

                <label>
                    <div class="size">@Html.ValidationMessageFor(model => model.HospitalName)</div>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.HospitalName)
                    </div>
                    <div class="editor-field">
                        @Html.EditorFor(model => model.HospitalName)

                    </div>

                    @*                  <input type='file' onchange="readURL(this);" />
    <img id="blah" src="#" alt="your image" />*@



                </label>


                <label style="width: 60px; height: auto; border: solid 2px silver; padding: 15px;" id="logolabelid">
                    <div>
                        <img src="~/Content/HospitalLogo/@Hospital.Utility.GetPathOfHospitalLogo()" style="width:48px; height:55px;" id="prvsImg"/>
                        <img src="#" alt="" id="blah" />
                    </div>

                    <div>
                        <a href="#" id="removelogo">Remove</a>
                    </div>
                    <div>
                        @Html.HiddenFor(model => model.ImageLogoName, new { id = "idlogo" })
                    </div>

                </label>


                <label>



                    <span>Hospital Logo</span><br />
                    <input type="file" name="file" id="file" onchange="readURL(this);" style="width: 200px;" />
                </label>

                <label>

                    <div class="size">@Html.ValidationMessageFor(model => model.Country)</div>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.Country)
                    </div>
                    <div class="editor-field">
                        @Html.EditorFor(model => model.Country)

                    </div>
                </label>










            </div>
            <div class="row-fluid singleline">


                <label>
                    <div class="size">@Html.ValidationMessageFor(model => model.City)</div>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.City)
                    </div>
                    <div class="editor-field">
                        @Html.EditorFor(model => model.City)

                    </div>
                </label>


                <label>
                    <div class="size">@Html.ValidationMessageFor(model => model.Address)</div>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.Address)
                    </div>
                    <div class="editor-field">
                        @Html.EditorFor(model => model.Address)

                    </div>
                </label>






                <label>

                    <div class="size">@Html.ValidationMessageFor(model => model.PostBox)</div>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.PostBox)
                    </div>
                    <div class="editor-field">
                        @Html.EditorFor(model => model.PostBox)

                    </div>
                </label>



                <label>

                    <div class="size">@Html.ValidationMessageFor(model => model.WardNo)</div>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.WardNo)
                    </div>
                    <div class="editor-field">
                        @Html.TextBoxFor(model => model.WardNo)

                    </div>

                </label>
            </div>
            <div class="row-fluid singleline">
                <label>

                    <div class="size">@Html.ValidationMessageFor(model => model.TelPhone)</div>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.TelPhone)
                    </div>
                    <div class="editor-field">
                        @Html.EditorFor(model => model.TelPhone)

                    </div>

                </label>


                <label>

                    <div class="size">@Html.ValidationMessageFor(model => model.FaxNumber)</div>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.FaxNumber)
                    </div>
                    <div class="editor-field">
                        @Html.EditorFor(model => model.FaxNumber)

                    </div>

                </label>

                <label>

                    <div class="size">@Html.ValidationMessageFor(model => model.HospitalEmail)</div>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.HospitalEmail)
                    </div>
                    <div class="editor-field">
                        @Html.EditorFor(model => model.HospitalEmail)

                    </div>

                </label>

                <label>

                    <div class="size">@Html.ValidationMessageFor(model => model.WebsiteUrl)</div>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.WebsiteUrl)
                    </div>
                    <div class="editor-field">
                        @Html.EditorFor(model => model.WebsiteUrl)

                    </div>

                </label>
            </div>


            <div class="row-fluid singleline">

                <label>

                    <div class="size">@Html.ValidationMessageFor(model => model.PanNumber)</div>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.PanNumber)
                    </div>
                    <div class="editor-field">
                        @Html.EditorFor(model => model.PanNumber)

                    </div>

                </label>
            </div>
            <p>
                <input type="submit" value="Edit" />
            </p>
        </fieldset>

        
        <input type="hidden" value="@Hospital.Utility.GetPathOfHospitalLogo()" id="logonameid" />
    }

    <div>
        @Html.ActionLink("Back to List", "Index", null, new { @id = "linkNewBack" })
    </div>



</div>
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}




<script>

    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();



            reader.onload = function (e) {
                $('#blah')
                    .attr('src', e.target.result)
                    .width(50)
                    .height(60);
            };

            reader.readAsDataURL(input.files[0]);

            // alert(reader.readAsDataURL(input.files[0]));


            $('#prvsImg').hide();
            $('#logolabelid').show();
            $('#idlogo').val("");
            $("#blah").show();
        }
    }


    $('#removelogo').click(function (e) {
        e.preventDefault();

        $('#idlogo').val("RemovedClick");
        $('#logolabelid').hide();
        $('#file').val("");

        //alert($('#idlogo').val());
    });


    $(document).ready(function (e) {

        //  alert("hi");

        $("#blah").hide();

        var valii = $('#logonameid').val();
        if (valii == null || valii == "") {
            $('#logolabelid').hide();
        }


    });


</script>

<script>
    function Checkfiles() {
        var fup = document.getElementById('upload_filename');
        var fileName = fup.value;
        var ext = fileName.substring(fileName.lastIndexOf('.') + 1);
        if (ext == "gif" || ext == "GIF" || ext == "PNG" || ext == "png" || ext == "jpg" || ext == "JPG" || ext == "bmp" || ext == "BMP") {
            return true;
        }
        else {
            alert("Upload Gif,Bmp or Jpg images only");
            fup.focus();
            return false;
        }
    }
</script>

