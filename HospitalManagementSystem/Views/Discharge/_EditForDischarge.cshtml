@model HospitalManagementSystem.Models.EmergecyMasterModel

<style>
    select {
        width: 210px;
        height: 27px;
    }
</style>

<script src="~/Scripts/jquery.ui.core.js"></script>
<script src="~/Scripts/jquery.ui.widget.js"></script>
<script src="~/Scripts/jquery.ui.datepicker.js"></script>
<script src="~/Scripts/jquery.min.js"></script>
<script src="~/Scripts/jquery-ui.min.js"></script>
<script src="~/Scripts/jquery.ui.timepicker.js"></script>

<link href="~/Content/themes/base/jquery.ui.all.css" rel="stylesheet" />
<link href="~/Content/themes/base/jquery.ui.timepicker.css" rel="stylesheet" />
<script src="@Url.Content("~/Scripts/OrderManagerScript.js")" type="text/javascript"></script>

<script src="~/Scripts/json.cycle.js"></script>


<script>

    $(document).ready(function (e) {


        $(".TimeOutId").val("");

    });


</script>

<script>


    var j = $.noConflict();
    j(function () {

        j(".TimeOutId").timepicker();

    });
</script>

@using (Html.BeginForm("EditForDischarge", "Discharge", FormMethod.Post, new { @id = "EditForDischargeId", @class = "bs-docs-example form-inline" }))
{
     

    <fieldset>
        <legend>Create</legend>

        <div class="editor-label">
            @Html.HiddenFor(model => model.EmergencyMasterId)
        </div>
        <div class="editor-field">
            @Html.HiddenFor(model => model.EmergencyMasterId, new { id = "EmergencyMasterId" })
            @Html.ValidationMessageFor(model => model.EmergencyMasterId)
        </div>

        <div class="editor-label">
            @Html.HiddenFor(model => model.EmergencyNumber)
        </div>
        <div class="editor-field">
            @Html.HiddenFor(model => model.EmergencyNumber)
            @Html.ValidationMessageFor(model => model.EmergencyNumber)
        </div>

        <div class="editor-label">
            @Html.HiddenFor(model => model.SerialNumber)
        </div>
        <div class="editor-field">
            @Html.HiddenFor(model => model.SerialNumber)
            @Html.ValidationMessageFor(model => model.SerialNumber)
        </div>

        
        <div class="editor-label">
            @Html.HiddenFor(model => model.Date)
        </div>
        <div class="editor-field">
            @Html.HiddenFor(model => model.Date)
            @Html.ValidationMessageFor(model => model.Date)
        </div>

        <div class="editor-label">
            @Html.HiddenFor(model => model.TimeIn)
        </div>
        <div class="editor-field">
            @Html.HiddenFor(model => model.TimeIn)
            @Html.ValidationMessageFor(model => model.TimeIn)
        </div>

        @* <div class="editor-label">
            @Html.HiddenFor(model => model.TimeOut)
        </div>
        <div class="editor-field">
            @Html.HiddenFor(model => model.TimeOut)
            @Html.ValidationMessageFor(model => model.TimeOut)
        </div>*@

        <div class="editor-label">
            @Html.HiddenFor(model => model.Address)
        </div>
        <div class="editor-field">
            @Html.HiddenFor(model => model.Address)
            @Html.ValidationMessageFor(model => model.Address)
        </div>

        <div class="editor-label">
            @Html.HiddenFor(model => model.BroughtBy)
        </div>
        <div class="editor-field">
            @Html.HiddenFor(model => model.BroughtBy)
            @Html.ValidationMessageFor(model => model.BroughtBy)
        </div>

        <div class="editor-label">
            @Html.HiddenFor(model => model.RelationShip)
        </div>
        <div class="editor-field">
            @Html.HiddenFor(model => model.RelationShip)
            @Html.ValidationMessageFor(model => model.RelationShip)
        </div>

        <div class="editor-label">
            @Html.HiddenFor(model => model.CheifComplainAndHistory)
        </div>
        <div class="editor-field">
            @Html.HiddenFor(model => model.CheifComplainAndHistory)
            @Html.ValidationMessageFor(model => model.CheifComplainAndHistory)
        </div>

        <div class="editor-label">
            @Html.HiddenFor(model => model.ClinicalExamination)
        </div>
        <div class="editor-field">
            @Html.HiddenFor(model => model.ClinicalExamination)
            @Html.ValidationMessageFor(model => model.ClinicalExamination)
        </div>



        <div class="row-fluid singleline">

            <label>
                <div class="size">@Html.ValidationMessageFor(model => model.FinalDiagnosis)</div>
                <div class="editor-label">
                    @Html.LabelFor(model => model.FinalDiagnosis)
                </div>
                <div class="editor-field">
                    @Html.EditorFor(model => model.FinalDiagnosis)

                </div>

            </label>

            <label>

                <div class="editor-label">
                    @Html.LabelFor(model => model.OutcomeTypeId)
                </div>

                <div class="editor-field">
                    @Html.DropDownListFor(model => model.OutcomeTypeId, HospitalManagementSystem.Utility.GetOutComeList(), new { @required = "@required", @id = "RoomNumberId", @onchange = "JqueryAjaxLoadSelectForBed(this.value)" })
                </div>
            </label>

            <label>
                <div id="divadmitt" style="display: none;">
                    <div class="editor-label">
                        Admitted In
          
                    </div>

                    @Html.EditorFor(model => model.OutcomeText)
                    @Html.ValidationMessageFor(model => model.OutcomeText)
                </div>
            </label>

            <label>

                <div id="divrefered" style="display: none;">
                    <div class="editor-label">
                        Refered To
                    </div>

                    @Html.EditorFor(model => model.OutcomeText)
                    @Html.ValidationMessageFor(model => model.OutcomeText)
                </div>
            </label>

             <label>

                <div id="divLAMAEXP" style="display: none;">
                    <div class="editor-label">
                        LAMA Notes
                    </div>

                    @Html.EditorFor(model => model.OutcomeText)
                    @Html.ValidationMessageFor(model => model.OutcomeText)
                </div>
            </label>
            <label>

                <div id="divDAMA" style="display: none;">
                    <div class="editor-label">
                        DAMA Notes
                    </div>

                    @Html.EditorFor(model => model.OutcomeText)
                    @Html.ValidationMessageFor(model => model.OutcomeText)
                </div>
            </label>



            <label>
                   <div id="divDC" style="display:block;">
                <div class="editor-label">
                    @Html.LabelFor(model => model.DischargeConditionAndInst)
                </div>
                <div class="editor-field">
                    @Html.EditorFor(model => model.DischargeConditionAndInst)
                    @Html.ValidationMessageFor(model => model.DischargeConditionAndInst)
                </div>
                       </div>
            </label>

            <label>

                <span class="size">@Html.ValidationMessageFor(model => model.TimeOut)</span>
                <div class="editor-label">
                    @Html.LabelFor(model => model.TimeOut)
                </div>
                <div class="editor-field">
                    @Html.TextBoxFor(model => model.TimeOut, new { @class = "TimeOutId" })
                </div>

            </label>
        </div>

        <div class="editor-label">
            @Html.HiddenFor(model => model.CreatedDate)
        </div>
        <div class="editor-field">
            @Html.HiddenFor(model => model.CreatedDate)
            @Html.ValidationMessageFor(model => model.CreatedDate)
        </div>

        <div class="editor-label">
            @Html.HiddenFor(model => model.CreatedBy)
        </div>
        <div class="editor-field">
            @Html.HiddenFor(model => model.CreatedBy)
            @Html.ValidationMessageFor(model => model.CreatedBy)
        </div>

        <div class="editor-label">
            @Html.HiddenFor(model => model.Status)
        </div>
        <div class="editor-field">
            @Html.HiddenFor(model => model.Status)
            @Html.ValidationMessageFor(model => model.Status)
        </div>


        <p>
            <input type="submit" value="Save" id="sumtid" />
        </p>
    </fieldset>
}

@*<div>
    @Html.ActionLink("Back to List", "Index")
</div>*@






<script type="text/javascript">

    var j = jQuery.noConflict(true);
    //$(document).on("pageload", function () {
    //    $("#divDC").show();
    //});
   
    function JqueryAjaxLoadSelectForBed(selValue) {
        var roomTypeId = $("#RoomNumberId").val();
        if (roomTypeId == 3) {
            $("#divadmitt").show(500);
            $("#divrefered").hide();
            $("#divDAMA").hide();
            $("#divLAMAEXP").hide();
            $("#divDC").hide();
        }
        if (roomTypeId == 4) {
            $("#divrefered").show(500);
            $("#divadmitt").hide();
            $("#divDAMA").hide();
            $("#divLAMAEXP").hide();
            $("#divDC").hide();
        }
        if (roomTypeId == 1) {
            $("#divDC").show();
            $("#divrefered").hide();
            $("#divadmitt").hide();
            $("#divDAMA").hide();
            $("#divLAMAEXP").hide();
        }
        if (roomTypeId == 2) {
            $("#divLAMAEXP").show(500);
            $("#divrefered").hide();
            $("#divadmitt").hide();
            $("#divDAMA").hide();
            $("#divDC").hide();
        }
        if (roomTypeId == 5) {
            $("#divDAMA").show(500);
            $("#divrefered").hide();
            $("#divadmitt").hide();
            $("#divLAMAEXP").hide();
            $("#divDC").hide();
        }

    }
</script>
<script>
    $("#sumtid").click(function (e) {
        e.preventDefault();
        var form = $('#EditForDischargeId');
        var url = form.attr("action");
        var formData = form.serialize();
        $.post(url, formData, function (data) {
            $('#DischargelistId').empty();
            $('#DischargelistId').html(data);
            $('#EditForDischargeId').remove();
        });
    });
</script>
